{
  "description": "Template rendering context variables by Odoo version",
  "all_versions": {
    "object": {
      "type": "recordset",
      "description": "The record being processed",
      "example": "object.name, object.partner_id"
    },
    "user": {
      "type": "res.users",
      "description": "Current user record",
      "example": "user.name, user.email"
    },
    "ctx": {
      "type": "dict",
      "description": "Context dictionary",
      "example": "ctx.get('lang'), ctx.get('proforma')"
    },
    "format_amount": {
      "type": "function",
      "signature": "format_amount(amount, currency)",
      "description": "Format monetary amount with currency",
      "example": "format_amount(object.amount_total, object.currency_id)"
    },
    "format_date": {
      "type": "function",
      "signature": "format_date(date, date_format='short')",
      "description": "Format date with localization",
      "example": "format_date(object.date_order)"
    }
  },
  "version_15_plus": {
    "format_datetime": {
      "type": "function",
      "signature": "format_datetime(datetime, tz=None, dt_format='medium')",
      "description": "Format datetime with timezone",
      "example": "format_datetime(object.create_date, tz='UTC', dt_format='long')"
    }
  },
  "version_16_plus": {
    "is_html_empty": {
      "type": "function",
      "signature": "is_html_empty(html_content)",
      "description": "Check if HTML content is empty or whitespace",
      "example": "not is_html_empty(object.description)"
    }
  },
  "version_19": {
    "company.email_primary_color": {
      "type": "string",
      "description": "Company's primary email color (button text)",
      "default": "#FFFFFF",
      "example": "company.email_primary_color or '#FFFFFF'"
    },
    "company.email_secondary_color": {
      "type": "string",
      "description": "Company's secondary email color (button background)",
      "default": "#875A7B",
      "example": "company.email_secondary_color or '#875A7B'"
    }
  },
  "layout_context": {
    "message": {
      "type": "mail.message",
      "description": "Message object with body and record_name"
    },
    "subtype": {
      "type": "mail.message.subtype",
      "description": "Message subtype"
    },
    "has_button_access": {
      "type": "boolean",
      "description": "Whether to show action button"
    },
    "button_access": {
      "type": "dict",
      "description": "CTA button configuration",
      "keys": ["url", "title"]
    },
    "subtitles": {
      "type": "list",
      "description": "Header subtitle strings"
    },
    "record": {
      "type": "recordset",
      "description": "The document record"
    },
    "record_name": {
      "type": "string",
      "description": "Display name of record"
    },
    "model_description": {
      "type": "string",
      "description": "Human-readable model name"
    },
    "tracking_values": {
      "type": "list",
      "description": "Field change tracking tuples",
      "format": "(field_name, old_value, new_value)"
    },
    "email_add_signature": {
      "type": "boolean",
      "description": "Whether to include user signature"
    },
    "signature": {
      "type": "html",
      "description": "User's email signature"
    },
    "company": {
      "type": "res.company",
      "description": "Company record"
    },
    "website_url": {
      "type": "string",
      "description": "Base website URL"
    }
  }
}
